---
title: "Prettierã®MarkDownæ—¥æœ¬èªå•é¡ŒãŒè§£æ±ºã—ã¦ãŸ"
emoji: "ğŸ‘Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["prettier", "eslint", "vscode"]
published: true
---

# Prettierã®MarkDownæ—¥æœ¬èªå•é¡Œã«ã¤ã„ã¦

Prettierã«ã¯ã€Œæ—¥æœ¬èªã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ•´å½¢ã™ã‚‹ã¨ä¸è¦ãªåŠè§’ãŒæŒ¿å…¥ã•ã‚Œã¦ã—ã¾ã†ã€ã¨ã„ã†å•é¡ŒãŒã‚ã‚Šã€ä»¥å‰èª¿ã¹ãŸã“ã¨ãŒã‚ã‚Šã¾ã—ãŸã€‚

å¤§ä½“åŒã˜å•é¡Œã«é­é‡ã—ã¦ã„ã‚‹äººãŒã„ã¦ã€è¨˜äº‹ã‚‚å¤šæ•°å‡ºã¦ã„ã¾ã—ãŸã€‚

- [prettierã§Markdownã‚’æ•´å½¢ã™ã‚‹ã¨æ—¥æœ¬èªã¨è‹±æ•°å­—ã®é–“ã«åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ãŒæŒ¿å…¥ã•ã‚Œã‚‹å•é¡Œ](https://oni-code.hatenablog.com/entry/2021/09/22/010520)
- [VSCodeã®Markdownã§æ—¥æœ¬èªã‚’ã„ã„æ„Ÿã˜ã«æ•´å½¢ã™ã‚‹](https://www.memory-lovers.blog/entry/2021/07/08/183000)
- [Prettierã§Markdownã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ãŸã¨ãã®è‹±èªã¨æ—¥æœ¬èªã®é–“ã«å…¥ã‚‹ã‚¹ãƒšãƒ¼ã‚¹ã‚’ã©ã†ã«ã‹ã™ã‚‹](https://qiita.com/kumapo0313/items/92d1597da5f3752f6584)

ãªã©ãªã©

ãã—ã¦ã“ã®å•é¡Œã«å¯¾ã—ã¦ã‚„ã‚Šå–ã‚Šã•ã‚Œã¦ã„ã‚‹Issueã«ãŸã©ã‚Šç€ã„ã¦ã€é•·ã„é–“å•é¡ŒãŒæ”¾ç½®ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ä¸€æ—¦è«¦ã‚ã‚‹ã€ã¨ã„ã†ã®ãŒå‰å›ã§ã—ãŸã€‚

https://github.com/prettier/prettier/issues/6385

# IssueãŒã‚¯ãƒ­ãƒ¼ã‚ºã•ã‚Œã¦ã„ãŸ

ã“ã®IssueãŒã„ã¤ã®é–“ã«ã‹ã‚¯ãƒ­ãƒ¼ã‚ºã•ã‚Œã¦ã„ã¾ã—ãŸã€‚Prettier v3 ã‹ã‚‰è§£æ±ºã•ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚

https://github.com/prettier/prettier/pull/11597

> P.S. (2022-12-11)
> This patch is enabled in Prettier 3.0.0-alpha.3 or later.

å¯¾å¿œã—ã¦ãã‚Œã¦ã„ãŸã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ–¹ã€…ã«æ„Ÿè¬ğŸ™

# ã‚³ãƒãƒ³ãƒ‰ã§ä½¿ã£ã¦ã¿ã‚‹

3.0.0-alpha.3 ä»¥é™ã§å®Ÿè£…ã•ã‚Œã‚‹ã¨ã®ã“ã¨ãªã®ã§ã€æ—©é€Ÿä½¿ã£ã¦ã¿ã¾ã™ã€‚

```sh
npm install prettier@3.0.0-alpha.6 -D
npx prettier --write README.md
```

å¤‰ãªã‚¹ãƒšãƒ¼ã‚¹ãŒå…¥ã‚‰ãªããªã£ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸï¼

# VS Codeã§ä½¿ã£ã¦ã¿ã‚‹

VS Codeã®Prettierãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã£ã¦ã¿ã¾ã™ã€‚

ä»Šå¹´(2023å¹´)ã®4æœˆã«Prettierãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®`v9.12.0`ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã„ã¦ã€Version 3ãŒã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚ˆã†ã§ã™ã€‚

https://github.com/prettier/prettier-vscode

> ### Prettier Version 3
>
> Prettier's preview version 3 is supported as of version 9.12.0. It is not included in the extension by default, but can be used by installing locally in your project. Version 10.0.0 of this extension will include prettier 3.0.0 after it is out of preview. To try version 3 now run the following in your project:
>
> `npm i prettier@3.0.0-alpha.6 -D`

ã¨ã„ã†ã“ã¨ã§è©¦ã—ã¦ã¿ãŸã®ã§ã™ãŒã€ç§ã®ç’°å¢ƒï¼ˆWindowsï¼‰ã§ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã—ã¾ã„ã¾ã—ãŸã€‚ã€‚ã€‚
ç²˜ã£ãŸã®ã§ã™ãŒè§£æ¶ˆã§ããšã€‚ã†ãƒ¼ã‚“ã€‚

:::details å®Ÿè¡Œç’°å¢ƒ

- OSï¼šWindows 11 Home 22H2
- VS Codeï¼šãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1.77.3 (user setup)
- Node.jsï¼šv18.16.0

:::

:::details ã‚¨ãƒ©ãƒ¼å†…å®¹

```sh
["ERROR" - 18:57:48] Error handling text editor change
["ERROR" - 18:57:48] Invalid host defined options
TypeError: Invalid host defined options
    at Object.<anonymous> (c:\Users\user\Desktop\work\App\zenn\node_modules\prettier\index.cjs:647:23)
    at Module.u._compile (c:\Users\user\AppData\Local\Programs\Microsoft VS Code\resources\app\out\vs\loader.js:4:1271)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1220:10)
    at Module.load (node:internal/modules/cjs/loader:1035:32)
    at Module._load (node:internal/modules/cjs/loader:876:12)
    at Function.c._load (node:electron/js2c/asar_bundle:5:13343)
    at Function.m._load (c:\Users\user\AppData\Local\Programs\Microsoft VS Code\resources\app\out\vs\workbench\api\node\extensionHostProcess.js:124:14199)
    at Function.h._load (c:\Users\user\AppData\Local\Programs\Microsoft VS Code\resources\app\out\vs\workbench\api\node\extensionHostProcess.js:119:11871)
    at Function.I._load (c:\Users\user\AppData\Local\Programs\Microsoft VS Code\resources\app\out\vs\workbench\api\node\extensionHostProcess.js:119:11264)
    at Module.require (node:internal/modules/cjs/loader:1059:19)
    at Module.require (c:\Users\user\.vscode\extensions\github.copilot-1.78.9758\dist\extension.js:8:365152)
    at t.ModuleResolver.g (c:\Users\user\AppData\Local\Programs\Microsoft VS Code\resources\app\out\vs\loader.js:4:647)
    at t.ModuleResolver.loadNodeModule (c:\Users\user\.vscode\extensions\esbenp.prettier-vscode-9.12.0\dist\extension.js:1:6406)
    at t.ModuleResolver.getPrettierInstance (c:\Users\user\.vscode\extensions\esbenp.prettier-vscode-9.12.0\dist\extension.js:1:4086)
    at t.default.handleActiveTextEditorChanged (c:\Users\user\.vscode\extensions\esbenp.prettier-vscode-9.12.0\dist\extension.js:1:9843)
    at t.default.handleActiveTextEditorChangedSync (c:\Users\user\.vscode\extensions\esbenp.prettier-vscode-9.12.0\dist\extension.js:1:9445)
    at t.default.registerDisposables (c:\Users\user\.vscode\extensions\esbenp.prettier-vscode-9.12.0\dist\extension.js:1:12288)
    at c:\Users\user\.vscode\extensions\esbenp.prettier-vscode-9.12.0\dist\extension.js:1:77862
["INFO" - 18:58:04] Formatting file:///c%3A/Users/user/Desktop/work/App/zenn/articles/9962f029ad50fc.md
["INFO" - 18:58:04] Using ignore file (if present) at c:\Users\user\Desktop\work\App\zenn\.prettierignore
```

:::

# ä»£ã‚ã‚Šã«

ä»•æ–¹ãªã„ã®ã§ã€ã¡ã‚‡ã£ã¨ä½¿ã„ã«ãã„ã§ã™ãŒã€`npm script`ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚

`package.json`

```json
{
  "scripts": {
    "format": "prettier --write %npm_config_path%"
  }
}
```

:::message
bashãªã©linuxç’°å¢ƒã®å ´åˆã¯`%npm_config_path%`ã‚’`$npm_config_path`ã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚
:::

```sh
npm run format --path=./README.md
```

ç„¡äº‹ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚Œã¾ã—ãŸï¼

ç§ã®ç’°å¢ƒã§ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ˆã†ã€æ­£å¼ãªãƒªãƒªãƒ¼ã‚¹ã‚’å¾…ã¡ã¾ã™ã€‚